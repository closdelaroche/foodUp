<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>foodUpCalc</title>
</head>
<body>

<div><div>
<a href="https://docs.google.com/spreadsheets/d/1W79f42adOIRo1Hw_temhTFfDtm58A1cV2V2DevD1U4k/edit?usp=sharing">foodUpTable</a>
<br><br>

<div>proteins</div>
<input type="number" id="num1">

<div>fats</div>
<input type="number" id="num2">

<div>carbohidrates</div> 
<input type="number" id="num3">

<div>fibres</div> 
<input type="number" id="num4">

<div>effective weight</div> 
<input type="number" id="num5">

<div>price (unit)</div> 
<input type="number" id="num6">
<br><br>







<div>effective cost (superfoodIndex)</div>
<output id="res1"></output>


<script>
const n1 = document.getElementById('num1');
const n2 = document.getElementById('num2');
const n3 = document.getElementById('num3');
const n4 = document.getElementById('num4');
const n5 = document.getElementById('num5');
const n6 = document.getElementById('num6');
const res1 = document.getElementById('res1');
const res2 = document.getElementById('res2');

[n1, n2, n3, n4, n5, n6].forEach(el => el.addEventListener('input', () => {
  const sumMacros = (parseFloat(n1.value)||0) + 
                    (parseFloat(n2.value)||0) + 
                    (parseFloat(n3.value)||0) +
                    (parseFloat(n4.value)||0);
  res1.textContent = sumMacros;

  const effWeight = parseFloat(n5.value)||0;
  const total2 = sumMacros * effWeight;

  const priceNum = parseFloat(n6.value)||0;
  const denominator = sumMacros * (effWeight/100);
  const effSum = denominator !== 0 ? priceNum / denominator : 0;
  res1.textContent = effSum;
}));
</script>

</body>
</html>
